{
  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "virtualMachineAdminUserName": {
      "value": "vmadmin"
    },
    "virtualMachineAdminPasswordvaultResourceGroup": {
      "value": "vault"
    },
    "virtualMachineAdminPasswordvaultsecretName": {
      "value": "vmadmin"
    },
    "vaultName": {
      "value": "awvvault"
    },
    "virtualMachineAdminPasswordfromvault": {
      "reference": {
        "keyVault": {
          "id": "[resourceId(subscription().subscriptionId,  parameters('virtualMachineAdminPasswordvaultResourceGroup'), 'Microsoft.KeyVault/vaults', parameters('vaultName'))]"
        },
        "secretName": "[parameters('virtualMachineAdminPasswordvaultsecretName')]"
      }
    },
    "virtualMachineNamePrefix": {
      "value": "vmapp"
    },
    "virtualMachineCount": {
      "value": 3
    },
    "virtualMachineSize": {
      "value": "Standard_B2s"
    },
    "operatingSystem": {
      "value": "Server2016"
    },
    "availabilitySetName": {
      "value": "vmas"
    },
    "virtualNetworkName": {
      "value": "vnet1"
    },
    "virtualNetworkResourceGroup": {
      "value": "network"
    },
    "subnet1Name": {
      "value": "local"
    }
  }
}